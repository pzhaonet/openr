<!DOCTYPE html>
<html lang="zh-cn">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Latex</title>
  <meta name="author" content="" />

  

  

  <meta name="generator" content="Hugo 0.54.0" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.blue.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://openr.netlify.com/index.xml" type="application/rss+xml" title="Open R">

  
  <meta property="og:title" content="Latex" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/zh/tags/latex//" />
  <meta property="og:image" content="img/logo.png" />

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="https://openr.netlify.com">
                    <img src="https://openr.netlify.comimg/logo.png" alt="Latex logo" class="hidden-xs hidden-sm">
                    <img src="https://openr.netlify.comimg/logo-small.png" alt="Latex logo" class="visible-xs visible-sm">
                    <span class="sr-only">Latex - 跳到主页</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">切换导航</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  <li class="dropdown">
                    
                    <a href="/zh/">主页</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/zh/blog/">博客</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/zh/faq/">常见问题</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/zh/contact/">联系我们</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/">EN</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Latex</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">
                <div class="row">
                    

                    <div class="col-md-9" id="blog-listing-medium">

                        
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/txt-review-mode/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/txt-review-mode/">纯文本编辑器的审阅模式</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">dapeng</a>
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/txt-review-mode/"><i class="fa fa-calendar-o"></i> February 1, 2019</a>
                                        </p>
                                    </div>
                                    <p class="intro"><p>这里说的审阅模式，指的是像 Microsoft Office Word 里的 Review 模式，可以显示修订前后的不同。</p></p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/txt-review-mode/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/literature-management/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/literature-management/">纯文本：文献管理的终极之道</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">dapeng</a>
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/literature-management/"><i class="fa fa-calendar-o"></i> February 1, 2019</a>
                                        </p>
                                    </div>
                                    <p class="intro"><p>​</p>

<blockquote>
<p>凌厉刚猛，无坚不摧，弱冠前以之与河朔群雄争锋。</p>

<p>紫薇软剑，三十岁以前所用。</p>

<p>重剑无锋，大巧不工，四十岁以前持之横行天下。</p>

<p>四十岁后，不滞于物，草木竹石均可为剑。自此精修，渐进于无剑胜有剑之境。</p>

<p>——《神雕侠侣》</p>
</blockquote></p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/literature-management/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/r-course-slides/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/r-course-slides/">课件：R 语言、开放科学和可重复性研究</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/r-course-slides/"><i class="fa fa-calendar-o"></i> December 4, 2018</a>
                                        </p>
                                    </div>
                                    <p class="intro">“R 语言，开放科学和可重复性研究”的课件，xaringan 包制作。这个包做幻灯片果然是可以飞起的。
HUGOMORE42 一周课程的内容，浓缩在 5 小时讲完了。当然有意外，主要是大家遇见的 LaTeX 的各种问题不一而足。当然有惊喜，mac 用户居然全都顺利过来了。
此外，原以为 rmarkdown 全家桶是 RStudio 默认安装的，结果发现 rticles 和 bookdown 等是需要手动安装的。我的 RStudio 已经升级好几次了，而那些包每次都在那里，所以……
所以上课前得弄个虚拟的干净系统，从零装一遍才知道会遇见什么问题。</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/r-course-slides/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/latex-and-me-4/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/latex-and-me-4/">我把青春献给你：排版 (4)</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/latex-and-me-4/"><i class="fa fa-calendar-o"></i> January 17, 2018</a>
                                        </p>
                                    </div>
                                    <p class="intro">9
bookdown 或者说 Pandoc 的伟大之处，就是把原先必须在 LaTeX 里做的事情，99.9% 都可以用 markdown 语法完成。剩下的 0.1%，例如公式、索引、控制换行、临时改变字体字号、强制分页等操作，所涉及的 LaTeX 命令都很简单（$$, \index{}、\mbox{}、\small、\newpage），偶尔用一下无伤大雅。只需找个漂亮的编辑器，在 bookdown 下写作就有不错的体验，而生成的 pdf 文档处处透露着 LaTeX 的优雅。平时自用一下，美得不行，仿佛梅开二度，枯木逢春。我为 bookdown 量身制作了 bookdownplus，pinyin 和 mindr 几个扩展包，沉浸在美妙之中不可自拔。
HUGOMORE42 但是，直到这次真正给《学 R》排版，真正要送到印刷厂印个几千本的时候，光有 bookdown 的现成模板就不够用了。《学 R》是本中文书，LaTeX 对中文的支持先天不足，很多细小的问题，得自己一个一个抠。
比如中文里夹杂的英文词的中断换行（hyphenation），总是在不该断的地方瞎断。找不到完美的解决方案，最后我手动添加了 \mbox{} 凑合。
比如段首空两格。我明明记得原先是自动空两格的，不知哪一次升级以后，这个设置就不见了。好在这个不难解决。
比如脚注和上标。bookdown 里^[]表示脚注，两个^之间表示上标。问题是两个脚注连在一起怎么办？要是写成杨过^[]和小龙女^[]，那两个^之间的文字就变成了上标。我试来试去，最简单的就是在中间偷偷摸摸塞进去个空格，把上标结构破坏掉。想来英文不存在这个问题，到处都是空格。
10
所幸，我算是挺过来了。最后排出的文档，虽然不是尽善尽美，但已经达到了我能力的天花板。想要更多也没有了。
只是年轻的时候我从没想过，将来自己会跟排版这件事纠缠。那些投进去的时间和精力，花在别处，会不会更好？无论本职工作，还是业余爱好，我都不是干排版的啊。
可是，怪就怪在，排版里这些一个一个的坑，你不去亲自填，就没人给你填。就像自己的娃，打扮成啥样，全在爹妈。自己的书，正式的出版物，难看的排版，你能忍吗？诸葛亮是怎么死的？事无巨细事必躬亲累死的。可是难道诸葛亮自己想被累死吗？
回头看看来时的路，我把青春的尾巴献给了 R，LaTeX，Linux。Linux 已然渐行渐远，LaTeX 曾经聚聚散散，只有 R 自始至终在我身边，成为了长久的陪伴。而这次，LaTeX 想甩也甩不掉了，她借着 bookdown 这匹木马，藏在了 R 的深处，彻底把我攻陷。
用 LaTex 排出的《学 R》这本书，就当是青春的纪念。</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/latex-and-me-4/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/latex-and-me-3/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/latex-and-me-3/">我把青春献给你：排版 (3)</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/latex-and-me-3/"><i class="fa fa-calendar-o"></i> December 23, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">7
LaTeX 做出来的文档，确实漂亮。这种漂亮不是那种一眼就能看出哪儿漂亮的漂亮，而是一种说不出来的气质。这种气质来自字体、间距、断字等等诸多细节的堆积和交互作用。只要是用过 LaTeX 的人，拿来个文档用鼻子一闻，就知道是 Word 做的还是 LaTeX 做的。就好像你遇到了你的另一半，让你神魂颠倒，可就是说不出她究竟好在哪里; 她走在人群里，你一眼就能找到她。因为你眼里没别人。
HUGOMORE42 然而，这种气质不是能轻易把握的。LaTeX 最为奇特的是，你为她投入了无数的时间，却竟然说不清楚到底是因为她太好还是她太糟。如果她太好，为何这么难用？如果她太糟，为何你甘心为她付出？
之所以能用 LaTeX 写完博士论文，我想来想去，这个奇迹是以下四点一起促成的：
组里的同事提供了现成的论文模板，
身边有同事可以随时问，
老板只看结果，对我实现的手段并不介意，
论文是英文写的，不需要跟中文排版死磕。
想学 LaTeX 的注意了！以上四点，只要缺了一样，那么学 LaTeX 的阻力就会提高一个数量级。此坑慎入！
如果有了这四个条件，那么基本上就不用额外操心，只管埋头写论文就是了。
然而，LaTeX 下埋头写作的体验并不美好。那感觉根本就不是写论文，而是写代码。不编译出来，你根本不知道自己写了几页，每页是啥模样。一天下来，脑袋胀胀的，心里乱乱的。相比之下，用 Word 写论文，每敲一个字符都有一点成就感，敲完一页后，就像已经出版了一样心满意足。
LaTeX 就像个绝世美人，不时让你为她的美貌倾倒。更大的诱惑是，你心里清楚，只要你努力，就能距离她的美貌更接近一点。于是，你就身不由己地投入大把大把的精力，把你的文档弄得越来越漂亮，虽然每次只是漂亮了那么一点点。
不像 Word，你知道，无论再怎么使劲，做出来的论文顶多也就那样了，不可能更美，所以心态反而平静下来，老老实实过日子。
一个像恋爱，一个像婚姻。
8
当完成博士论文的时候，我决定结束天天心惊胆战的 LaTeX 爱情长跑，回到 Word 的温柔乡。我把城墙修高加厚，厚得就像特洛伊城，把 LaTeX 拦住墙外，从此一刀两断。曾经在同一个战壕里的战友，变成了洪水猛兽。
到了新工作单位，观察了一下，老板和同事全部是正常人，不是 X-men。我松了一口气。
有一次，有个名叫 LyX 的使者来敲我的城门。从三个字母参差不齐的模样，我一眼就识破了他的伪装，知道是 LaTeX 派来的奸细，于是我轻轻吐出一个字：滚。
我以为，从此就跟 LaTeX 形同陌路了。
有一天，我在使用 R 语言的时候，神使鬼差地装上了一个名叫 bookdown 的扩展包。
很久以后，再次回忆那一刻，仍然不由得感慨万千。命中注定的事，逃不掉的劫数。
bookdown，就是攻陷特洛伊的木马; 里面藏着的，除了我的旧爱 LaTeX，还有 Pandoc 这个魔鬼。后者从名字上一看，就知道是潘多拉放出来的。</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/latex-and-me-3/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/bookdownplus-update/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-bookdownplus.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/bookdownplus-update/">R bookdownplus 升级手记，以及北大论文模板</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/bookdownplus-update/"><i class="fa fa-calendar-o"></i> November 26, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">bookdownplus 这个 R 语言程序包，自用起来感觉不错，当初发布的时候还小得意了一把。时过境迁，现在回头看起来是越来越不满意。CRAN 上，bookdownplus 的总下载量接近三千（与此相比，bookdown 的总下载量是七万），大约每小时就有一次下载。Google ‘bookdownplus’ 可以搜到 已经有中文用户在写使用体验了。越是这样，我越惶恐，因为我知道，这个包写得粗糙，可改进的地方数都数不过来。
HUGOMORE42 向我反馈问题的用户超出了预期，主要是兼容性的问题：在 macOS上如何，在 Linux 上如何，这些问题我都没有办法回答，因为我只在 Windows 7 上测试了，其他操作系统既无精力也无条件测试。开发个软件，自用是一回事，让别人能用完全是另外一回事，这两回事之间真是相差了一个筋斗云。
所以我决定先把自己看不过去的问题解决一下，那就是代码的构架问题。
bookdownplus v.1.3 以后的版本包含了 20 个模板。写这个包的时候，因为懒，我就把所有模板的 .tex 文件混到一个文件夹里，style 和 cls 文件混在另一文件夹里，到最后自己都搞不清楚哪个模板用哪个文件了。用户每次想运行 bookdownplus() 生成一个新文档时，都把所有有用没用的文件一股脑考进来（反正也不大），连我自己都看不下去了。此外，我还指望着别人贡献一些新模板，可是目前乱糟糟的，谁愿意把好东西往垃圾堆里扔呢？
于是这两天我花了一个上午，把这些文件重新整理归类，让他们各回各家各找各妈，每个 bookdown 模板都对应一个 zip 压缩文件，扔在 bookdownplus 的安装目录里。而且，如果再开发新 bookdown 模板，只需按照现有模板 zip 文件里的结构，将所需文件压缩并甩进 bookdownplus 安装目录，就可以用 bookdownplus() 直接调用了，连升级都不用。
虽然功能上没有多大增强，但架构上舒服多了，所以我把版本号从1.3.x 升到了 1.4.0。
我还有一块心病，是北京大学学位论文的 LaTeX 模板，我迟迟没能转成 bookdown 模板。原因是这个 LaTeX 模板本身在我电脑上就编译不成功。这次不知怎么开了窍，突然被我搞定了，作为第 21 个模板，收进了 bookdownplus v.1.4.0 里。
此外，新增了一下几个模板：
益辉制作了 Chapman &amp; Hall 出版社的模板，现成的，我稍微改了一下。看上去是这样的：这提醒我，直接去 bookdown.</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/bookdownplus-update/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/latex-and-me-2/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/latex-and-me-2/">我把青春献给你：排版 (2)</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/latex-and-me-2/"><i class="fa fa-calendar-o"></i> November 22, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">5
如果上一篇帖子让你以为我在为 \(\LaTeX\) 做广告，呵呵，那你就上当了。为啥？
因为我早就抛弃 LaTeX 了。
HUGOMORE42 几年前，把用 LaTeX 排版排得漂漂亮亮的博士论文提交的那一刻，我咬牙切齿地想：老子终于可以跟 LaTeX 这个怪物永别了。
想不起来第一次是从哪里知道 LaTeX 的。好像是从 Linux 的学习里，得知 LaTeX 是科研圈常用的写作工具。作为一个混科研圈的工具控，我居然没听说过？而且身边全是搞科研的，居然没人用过？怪哉怪哉。
于是，我就去问见多识广的朋友：“你用过 LaTeX 吗？”
朋友正穿着白大褂，在中科院化学所的有机实验室忙活，一听我的问题，痛痛快快地回答：
latex 啊？用过用过，我们经常从美国买。你要做什么？要多少克？1
我愣了，赶紧说：
不急不急。你先忙，我需要的时候找你买。
这就是我初学 LaTeX 时的生态。圈里没人懂，身边没人带，全凭好奇和兴趣。作为一个寻常百姓，学起来的难度可想而知。
当时虽然已经奔三的年岁，但血气犹存;还没当爹，手头还有一点闲置光阴。于是，磕磕碰碰，我终于用 LaTeX 把工作总结做了个 beamer 幻灯片，准备在单位作报告时用。花了这么多时间，如果不好用，那还学个啥劲呢？所以，要不要继续学，在此一举。
就在这关键时刻，单位领导一句话，把我仅有的热情抛进了万丈深渊。领导说：
工作总结的 ppt 你不是说你做完了？发给我来修改。
6
LaTeX 在我这里真正派上用武之地，是来德国读博士的时候。
刚到这个研究组，我就大吃一惊：组里清一色的 Linux 操作系统，大家拿 LaTeX 写各种文档，用 R 语言处理数据。
Linux，LaTeX，R，这是耗尽我青春尾巴的三大怪物。此外还有个 vim，但是跟这仨货比起来，属于小巫见大巫。
Linux 和 R 的血泪史按下不表，今天只说 LaTeX。
当时我无奈地想，嫁鸡随鸡嫁狗随狗，就跟着这帮 X-men 一起混吧。
很快，我又大吃一惊：在这个变种人小组里，牵头的老板，居然是个正常人，用的是 Windows 系统，Word 写文档，Excel 处理数据。话说一个正常老板跟一群变种人下属之间是怎么交流的？</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/latex-and-me-2/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/latex-and-me-1/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/latex-and-me-1/">我把青春献给你：排版 (1)</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/latex-and-me-1/"><i class="fa fa-calendar-o"></i> November 21, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">1
2017 年快要过去了。如果剩下这四十天不出什么幺蛾子的话，我今年的最蠢事情排行榜，基本是板上钉钉。名列榜首的，就是过早给《学 R》一书大肆宣传。跟罗永浩当年头一回卖锤子手机一样一样的，还没量产，就先吹牛，结果吹破了，打了自己的脸。
HUGOMORE42 其实，这本书早在今年 6 月就写完了，7 月做了最后一次修改。当时书号已经批了，封面也有了模样，我以为马上就能印出来了，于是告诉了我能告诉的每一个朋友。朋友们都很讲义气，把白花花的银子拍在桌上，就等着付钱买了。当了教授的老同学说：放心，到时候我送给我的学生人手一本！
谁知道，一晃四个多月过去了，书还没出来。我的前期宣传算是白费了。让人欣慰的是，直到现在，仍然有铁杆粉丝惦记着我，时不时发来鼓励的短信：“喂，你那书烂尾了吧？啊哈哈哈哈~~~~”
谢谢。
那么，四个月里，这书干嘛去了？
在排版。
《学 R》这本书，一直排不出理想的模样。
四个月是在反反复复修改排版里度过的。一直拖到上周，我们仍然看不到任何排版成功的迹象。2017 年所剩无几的耐心消耗殆尽，一咬牙一跺脚，我们决定壮士断腕。合作作者 Y 从出版社讨来排版文件，并且自己花钱购买了专业软件，自己排；我同时用 \(\LaTeX\) 排，齐头并进。谁先排好就用谁的。我们谁都不想再拖，再拖就真的要吐血了。
当做出这个决定的第二天，Y 看到我用 \(\LaTeX\) 做出的 pdf 书稿小样得到了印刷厂的认可，就放下了手里的专业软件，决定不干了：“\(\LaTeX\) 真厉害，有空我学一下……”
我立马拦住：“最好别去学。这个坑太大。一入 \(\LaTeX\)，坑深似海。”
2
出版社负责录入和排版的工作，简称“录排”。
这四个月来，录排可谓兢兢业业，全心全力为《学 R》排版。可惜，辛苦不一定有回报，排出的书稿，一直有层出不穷的问题。
比如说，丢失公式和特殊字符。原稿里的诸如 R2， \(\pi\) 等都莫名其妙消失了。
比如说，字体。原稿里的代码都是用等宽字体表示的，录排之后都成了跟正文一样的字体。
比如说，标点符号。原稿里的所有标点符号，包括代码里的逗号、引号、括号、冒号，都变成了中文标点符号。加上非等宽字体，书里的代码惨不忍睹。
最要命的是，原稿里的很多空格也都不翼而飞。比如录排稿：
是不是一头雾水？实际上原稿是：
每次从录排稿里挑问题，都恨不得把一双近视眼珠子抠出来，再拿着放大镜逐字逐句看。后来，索性放弃了很多想法。比如说，原先代码是彩色的，得知需要录排逐个字符手动修改，算了不要了；原先打算增加个小贴士目录，得知需要排完页码手动添加，算了不要了；原先打算给常用函数做个索引，方便读者从书里找示例，看样子也得手动做，算了不要了……
即便如此，每次的排版仍然会出现奇奇怪怪的问题。如此往返三次，《学 R》这本书我已经读得想呕吐了。
我百思不得其解：这到底是怎么回事？
3
来回折磨了四个月。终于， Y 试用了一下录排用的排版软件—— Adobe InDesign，俗称 ID，是国内出版业主流的专业排版软件。
Y 立刻对我说：“我明白问题出在哪里了！”
原来，录排是把我们提交的原稿，转成了 txt 文本文件；书里的插图，全部转成了 tif 图片。然后，把这些素材导入 ID，然后手动按照原稿 pdf 的样子做调整。
这正是录排一贯的工作流程。
这个流程，对文学类书籍没有问题。一篇小说，重要的是内容，不是格式；只要把文字分好段，就不会有大错。
然而，这个流程用在《学 R》 这本书上，就是个灾难。因为这本书，内容和格式，都很重要。
然而，这一点，录排不知道。</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/latex-and-me-1/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/latex-equations-to-word/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/latex-equations-to-word/">LaTeX 公式转换成 Word 公式</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/latex-equations-to-word/"><i class="fa fa-calendar-o"></i> June 20, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">最近写了篇论文，投往一家学术期刊。投稿时，Word 格式和 \(\LaTeX\) 格式可以任选，我选了 Word，是因为合作作者用 Word。可是，文稿里的公式是我输入的，而那些公式在我的博士论文里是用 \(\LaTeX\) 写的。为了图省事，我就用了 Word 的插件Aurora，这样，只需把公式的 \(\LaTeX\) 代码往 Word 文档的 Aurora 域里拷贝粘贴，bingo！公式就渲染好了，比 Word 的自带公式漂亮一些。
HUGOMORE42 这篇论文很顺利，很快被接收了。到了最后一步的时候，编辑部要我把文档里的公式修改成可编辑的格式。——本来就是可编辑的呀。嗯，大概是编辑部不使用Aurora，那么他们的 Word 打开我的文档里看到的公式自然就是没法编辑的了。我懒得解释，最后决定把公式全部转换成 Word 公式。
\(\LaTeX\) 公式转成 Word 公式并不难，只需三步：\(\LaTeX\) –&gt; MathML –&gt; 修改 –&gt; Word.
\(\LaTeX\) 公式转成 MathML公式。这可以在 blogdown 里操作，只需把 \(\LaTeX\) 公式代码扔进一个帖子里，运行建站函数，在生成的网页里获取公式的 MathML 代码即可（在公式上点右键 - Show Math As - MathML Code）。没有 blodown 的，用texmath 在线转换也可以。
修改 MathML 代码。将上一步得到的 MathML 代码拷贝粘贴到文本编辑器，然后在开头添上一行：
&lt;?xml version=&quot;1.0&quot;?&gt;将修改的 MathML 代码全部选中，拷贝粘贴到 Word 里，就自动变成公式了。当然，上面第一步也可以用别的软件来完成，下图是个示例。</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/latex-equations-to-word/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="post">
                            <div class="row">
                                <div class="col-md-4">
                                  <div class="image">
                                      <a href="https://openr.netlify.com/zh/blog/equations/">
                                          
                                          <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="">
                                          
                                      </a>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                    <h2><a href="https://openr.netlify.com/zh/blog/equations/">微气象学常用的 LaTeX 公式</a></h2>
                                    <div class="clearfix">
                                        <p class="author-category">
                                          
                                          由 <a href="#">赵鹏</a>
                                          
                                          
                                          
                                          

                                        </p>
                                        <p class="date-comments">
                                            <a href="https://openr.netlify.com/zh/blog/equations/"><i class="fa fa-calendar-o"></i> May 23, 2017</a>
                                        </p>
                                    </div>
                                    <p class="intro">这些年，论文发得不多，公式却攒了不少，大部分都是自己亲手敲的 \(\LaTeX\) 代码。我把他们整理在一个 eq.tex 文档里，配合一个编译好的 eq.pdf 文件。每次需要的时候，在 eq.pdf 里找到需要的公式，然后去 eq.tex 找公式代码，拷到目标文档里完事儿。稍微有点小麻烦，但总比重新敲一遍代码要省事、准确。
然而，现在有了 blogdown 和 Hugo-academic 主题，一切都变得不一样了。我把 eq.tex 里的文本全部拷贝粘贴到一个 .Rmd 文件，扔进网站里，就得到了现在这个帖子。鼠标放在公式上点右键- Show Math As - \(\TeX\) Commands，就得到了公式的 \(\LaTeX\) 代码。直接拷贝就行了，再也不用在两个文档里切换以及找来找去。
HUGOMORE42 我觉得，我再也回不去了。
MeteorologyAtmpspheric pressure\[\begin{equation}P=101.325 \cdot (\frac{293-0.0065z}{293}) ^ {5.26} = 86.838\,\text{kPa}\end{equation}\]
\(z\): elevation above sea level in m.
\[\begin{equation}-\text{d} p =\rho g \text{d}z\end{equation}\]
\[\begin{equation}\ln \frac{p_2}{p_1} = - \int_{z_1}^{z_2} \frac{g}{RT}\text{d}z\end{equation}\]
Psychrometric constant\[\begin{equation}\gamma =\frac{c_p P}{\varepsilon \lambda} = 0.</p>
                                    <p class="read-more"><a href="https://openr.netlify.com/zh/blog/equations/" class="btn btn-template-main">继续阅读</a>
                                    </p>
                                </div>
                            </div>
                        </section>
                        

                        <ul class="pager">
                            
                            <li class="previous disabled"><a href="#">&larr; 更新</a></li>
                            

                            
                            <li class="next disabled"><a href="#">更旧 &rarr;</a></li>
                            
                        </ul>
                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">搜索</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="搜索">
                <input type="hidden" name="sitesearch" value="https://openr.netlify.com">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">分类</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://openr.netlify.comcategories/%e6%9c%aa%e5%88%86%e7%b1%bb">未分类 (7)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">标签</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://openr.netlify.comtags/advr"><i class="fa fa-tags"></i> advr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/beginr"><i class="fa fa-tags"></i> beginr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/blog"><i class="fa fa-tags"></i> blog</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/blogdown"><i class="fa fa-tags"></i> blogdown</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/bookdown"><i class="fa fa-tags"></i> bookdown</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/bookdownplus"><i class="fa fa-tags"></i> bookdownplus</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/css"><i class="fa fa-tags"></i> css</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/drposter"><i class="fa fa-tags"></i> drposter</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/git"><i class="fa fa-tags"></i> git</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/hugo"><i class="fa fa-tags"></i> hugo</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/latex"><i class="fa fa-tags"></i> latex</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/linux"><i class="fa fa-tags"></i> linux</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/markdown"><i class="fa fa-tags"></i> markdown</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/mindr"><i class="fa fa-tags"></i> mindr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/news"><i class="fa fa-tags"></i> news</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/pagedown"><i class="fa fa-tags"></i> pagedown</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/pinyin"><i class="fa fa-tags"></i> pinyin</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/post"><i class="fa fa-tags"></i> post</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/postr"><i class="fa fa-tags"></i> postr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/r"><i class="fa fa-tags"></i> r</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/rmd"><i class="fa fa-tags"></i> rmd</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/rosr"><i class="fa fa-tags"></i> rosr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/steemr"><i class="fa fa-tags"></i> steemr</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/teaching"><i class="fa fa-tags"></i> teaching</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/utopian-io"><i class="fa fa-tags"></i> utopian-io</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/word"><i class="fa fa-tags"></i> word</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/xaringan"><i class="fa fa-tags"></i> xaringan</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/%e5%90%89%e4%bb%96"><i class="fa fa-tags"></i> 吉他</a>
            </li>
            
            <li><a href="https://openr.netlify.comtags/%e5%ad%a6-r"><i class="fa fa-tags"></i> 学-r</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                
            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>关于我们</h4>

            我们就是我们。

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>最新博客</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://openr.netlify.com/zh/blog/txt-review-mode/">
                          
                            <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="纯文本编辑器的审阅模式">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://openr.netlify.com/zh/blog/txt-review-mode/">纯文本编辑器的审阅模式</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://openr.netlify.com/zh/blog/literature-management/">
                          
                            <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="纯文本：文献管理的终极之道">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://openr.netlify.com/zh/blog/literature-management/">纯文本：文献管理的终极之道</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://openr.netlify.com/zh/blog/rstudio-ppt/">
                          
                            <img src="https://openr.netlify.comimg/banners/logo-openr.png" class="img-responsive" alt="往 ppt 里插入 500 张图片的小伎俩">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://openr.netlify.com/zh/blog/rstudio-ppt/">往 ppt 里插入 500 张图片的小伎俩</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>联系</h4>

            <strong>OpenR Team</strong>
      </p>
      


            <a href="/contact" class="btn btn-small btn-template-main">跳到联系页面</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2019, OpenR Team; all rights reserved.</p>
            
            <p class="pull-right">
              模板来自 <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              

              移植到 Hugo 来自 <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="https://openr.netlify.comjs/hpneo.gmaps.js"></script>
<script src="https://openr.netlify.comjs/gmaps.init.js"></script>
<script src="https://openr.netlify.comjs/front.js"></script>


<script src="https://openr.netlify.comjs/owl.carousel.min.js"></script>


  </body>
</html>
